<!DOCTYPE html>
<html>
<head>
    <title>支付</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/reset.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/hd.css">
    <script src="static/js/jquery.min.js"></script>
    <style type="text/css">
    body{
        font-family: Microsoft YaHei;
}

    }
    .clearfix:after {
    clear: both;
    }
.clearfix:before, .clearfix:after {
    content: " ";
    display: table;
}
.header{
    position:inherit;
    z-index:100;
}
    
.sixDigitPassword {
    position: absolute;
    left: -122px;
    top: 0;   
    width: 1000px;
    height: 26px;  
    color: #fff;
    font-size: 12px;
    -webkit-box-sizing: content-box;
    box-sizing: content-box;
    -webkit-user-select: initial;
    outline: 'none';
    z-index: 999;
    opacity:0;
    filter:alpha(opacity=0);
  }

  .sixDigitPassword-box {
        cursor:text;
        background: #fff;
        outline: none;
        position: relative;
        margin-top:20px;
        height: 30px;
        border: 1px solid #cccccc;
        border-radius: 2px;
         z-index: 999;
  }
  .sixDigitPassword-box i {
        float: left;
        display: block;
        padding: 4px 0;
        height: 28px;
        border-left: 1px solid #cccccc;
    }
   .sixDigitPassword-box .active {
        background: url('static/images/password-blink.gif') no-repeat center center;        
    }
   .sixDigitPassword-box b {
        display: block;
        margin:7px 20px;
        width: 7px;
        height: 7px;
        overflow: hidden;
        visibility:hidden;
        background: url('static/images/passeord-dot.png') no-repeat;
    }
  .sixDigitPassword-box span {
        position: absolute;
        display: block;
        left: 0px;
        top: 0px;
        height: 30px;
        border: 1px solid rgba(82, 168, 236, .8);
        border: 1px solid #00ffff\9;
        border-radius: 2px;
        visibility: hidden;
        -webkit-box-shadow: inset 0px 2px 2px rgba(0, 0, 0, 0.75), 0 0 8px rgba(82, 168, 236, 0.6);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);
    }
    .ui-securitycore  .ui-form-item .ui-form-explain{
        margin-top: 8px; 
    }



 .six-password{
    height:150px;
    overflow: hidden;
    vertical-align: middle;
    position: absolute;
    left:50%;
    width:300px;
    margin-left:-150px;
    bottom:90px;
}
.content{
    height: 340px;
    position: absolute;
    bottom: 10px;
    width: 100%;
   background-color: #fff;
   z-index: 800;
}
.heading{
    text-align: center;
    border-top: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    width:100%;
    vertical-align: middle;
    position: absolute;
    bottom:300px;
    height:40px;
    line-height: 40px;
    font-size: 13px;
    font-weight: 600;
    z-index:999;
}
.pay{
    text-align: center;
    width:100%;
    vertical-align: middle;
    position: absolute;
    bottom:270px;
    height:20px;
    line-height: 20px;
    font-size: 10px;
    font-weight: 600;
     z-index:999;
}
.money{
    text-align: center;
    width:100%;
    vertical-align: middle;
    position: absolute;
    bottom:240px;
    height:20px;
    line-height: 20px;
    font-size: 20px;
    color:#46D0FB;
     z-index:999;

}
.u-close{
 padding:11px;
 margin-top:-5px;
}
.tip{
    margin-left: 24px;
}
.dispoint{
 pointer-events: none;
}
#cover{
		width: 100%;
		height: 100%;
		position: fixed;
		background:rgba(255, 255, 255, 0.8);
		z-index: 4000;
        text-align: center;
        vertial-alien:middle;
	}
.shadow{
        width: 100%;
		height: 100%;
		position: fixed;
		background:rgba(109, 109, 109, 0.62);
		z-index: 150;
        text-align: center;
        vertial-alien:middle;
}
.loader {
   width:60px;
   height:60px;
   display:inline-block;
   padding:0px;
   border-radius:100%;
   border:4px solid;
   border-top-color:rgb(66, 166, 230);
   border-bottom-color:rgba(0,0,0, 0.1);
   border-left-color:rgb(66, 166, 230);
   border-right-color:rgba(0,0,0, 0.1);
   -webkit-animation: loader4 1s ease-in-out infinite;
   animation: loader4 1s ease-in-out infinite;
   position: fixed;
   left: 43%;
   top: 30%;
}
@keyframes loader4 {
   from {transform: rotate(0deg);}
   to {transform: rotate(360deg);}
}
@-webkit-keyframes loader4 {
   from {-webkit-transform: rotate(0deg);}
   to {-webkit-transform: rotate(360deg);}
}
.loading{
   position: fixed;
   left: 43%;
   top: 40%;
}


</style>

</head>
<body>
    <!--<div class="shadow">
    </div>-->
    <div id="cover">
       <div class="loader"></div>
       <div class="loading"> 付款中...   </div>
    </div>
    
    <div class="header">
        <div class="navbar-left">
           <a href="index.html"><i class="fa fa-angle-left back"></i></a>
        </div>
        <h1>支付</h1>
    </div>
        <div>
            <input id="text1" type="number"  class="form-control" style="margin-top:60px; visibility:hidden">
        </div>

    <div class="content">
         <div class="heading">
            <span class="tip">请输入支付密码</span>
           <span class="pull-right">
                <a href="index.html"><img  class="u-close" src="static/images/close.png"></a>
            </span>

         </div>
         <div class="pay">支付</div>
         <div class="money">88.8元</div>
    </div>
     <div id="payPassword_container" class="alieditContainer clearfix" data-busy="0">
            <div class="i-block" data-error="i_error">
                <div class="i-block six-password">
                    <input class="i-text sixDigitPassword" id="payPassword_rsainput" type="password" autocomplete="off" required="required" value="" name="payPassword_rsainput" data-role="sixDigitPassword" tabindex="" maxlength="6" minlength="6" aria-required="true">
                    <div tabindex="0" class="sixDigitPassword-box" style="width: 300px;">
                        <i style="width: 49px; border-color: transparent;" class=""><b style="visibility: hidden;"></b></i>
                        <i style="width: 49px;"><b style="visibility: hidden;"></b></i>
                        <i style="width: 49px;"><b style="visibility: hidden;"></b></i>
                        <i style="width: 49px;"><b style="visibility: hidden;"></b></i>
                        <i style="width: 49px;"><b style="visibility: hidden;"></b></i>
                        <i style="width: 49px;"><b style="visibility: hidden;"></b></i>
                        <span style="width: 49px; left: 0px; visibility: hidden;" id="cardwrap" data-role="cardwrap"></span>
                    </div>
                </div>
            </div>
        </div>

  
    <script type="text/javascript" src="static/js/keyboard.js"></script>
    <script type="text/javascript">
   $(document).ready(function(){
       (function(){
        var input1 = document.getElementById('text1');
            new KeyBoard(input1);
        
       })();
        Key();
       $('#cover').hide(); 
   });

      
    

  var Array=$('b');
   Key=function(){
        var length=$('#text1').val().length;
        var paykey=$('#text1').val();
        if(length==6){
            $('#cover').show();
            $('td').addClass('dispoint');
             $.ajax({    
                url:'keycomfirm.php',// 跳转到 action    
                data:{    
                         key : paykey  
                },    
                type:'post',    
                cache:false,    
                dataType:'json',    
                success:function(data) { 
                        alert("支付成功！");
                         $('#cover').hide();   
                             
                 },
                 error : function() {    
                      alert("ajax失败异常！");
                       $('#cover').hide();  
                 },
                 complete: function () {
                    //ajax请求完成，不管成功失败
                    window.location.reload();   
                }  
            });  
        }
        
        
         Array.css("visibility","hidden");
            for(var i=0;i<length;i++)
           {
            $(Array[i]).css("visibility","visible");
           }
        window.setTimeout(Key,100);
       }
    //   $(document).ready(function() {
    //     Key();
    // });
     


    </script>
</body>
</html>

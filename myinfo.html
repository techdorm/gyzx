<!DOCTYPE html>
<html>
<head>
    <title>个人中心</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="format-detection" content="telephone=no"/>  
    <link rel="stylesheet" type="text/css" href="static/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="static/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/reset.css">
    <link rel="stylesheet" type="text/css" href="static/css/ui-dialog.css">
	  <script src="static/js/jquery.min.js"></script>
    <script src="static/js/dialog-min.js"></script>
    <script src="static/js/jquery.form-validator.js"></script>
<style type="text/css">
	/*basic css*/
	body{
		background-color: #F0F0F0;
	}
	.header {
    position: fixed;
    z-index: 1060;
    top: 0;
    right: 0;
    left: 0;
    height: 45px;
    border-bottom: 1px solid #43A382;
    background-color: #45A673;
    -webkit-box-shadow: 0 1px 1px rgba(98,98,98,.3);
    box-shadow: 0 1px 1px rgba(98,98,98,.3);
	}

	.header h1 {
    color: #fff;
    font-size: 18px;
    line-height: 44px;
    position: absolute;
    left: 50%;
    -webkit-transform: translate(-50%,0);
    text-align: center;
    font-family:"YouYuan";
	}
	
	.header .navbar-left {
	    float: left;
	    /*color: #fff;*/
	}
    .navbar-left>* {
        display: table-cell;
        height: 45px;
        padding-right: 10px;
        padding-left: 10px;
        vertical-align: middle;
    }
	.pull-right {
	        float: right;
	    }
	.back {
        color: #FFF;
        font-size: 2.5em;
    }
    .vertical{
    	vertical-align: middle;
    }

    .content{
	    margin-top: 45px;
    	background-color: #FFF;
    }
    .enter{
    	 font-size:21px;
        color: #717C80;
        padding-top: 7px;
        top: 50%;
        left: 50%;
        padding-left: 10px;
        padding-right: 5px;
    }

	.item #touxiang{
		 vertical-align: middle;
	}
	.item{
		border-bottom: 0.5px solid #ddd;
        margin-left: 3.125%;
    }
    span {
        line-height: 40px; 
        padding-left: 5px;
        font-size: 13px;
    }
    .type{
        color:#BABABA;
        font-size: 12px;
        padding-left:3.125%;
        /*margin-left: 5px;*/

    }
    .pr{
        padding-right: 20px;
    }
    .btn-sub{
        float:right;
        margin-top:36px;
        margin-right:60px;
    }
    .modify{
        margin-top: 20px;
        margin-bottom: 20px;
        width:150px;
    }
    .newkey{
       margin-top: 20px;
       margin-bottom: 20px;
    }
    .btn-default{
        margin-left: 23px;
        margin-top: 20px;
        width:100px;
    }
    .btn-phone{
        float:right;
        margin-top:33px;
        margin-right:60px;

    }
    .btn-key{
        float:right;
        margin-top:4px;  
    }

</style>
</head>

<body>
		<div class="header">
	        <div class="navbar-left">
	           <a href="index.html"><i class="fa fa-angle-left back"></i></a>
	        </div>
	        <h1>个人资料</h1>
    	</div>
    	<div class="content">
            <p class="type" style="margin-top: 10px;">基本资料</p>
			<div  class="item">
				<span>头像</span>
				 <div class="pull-right vertical pr">
				 <img id="touxiang" class="img-circle" src="static/images/id.png" width="30" hight="30">
				 </div>
			</div>
			<div  class="item username">
				 <span> 昵称</span>
				 <div class="pull-right vertical">
				 <span id="username">echo</span>
                 <i class="enter fa fa-angle-right"></i>
				 </div>
			</div>

            <p class="type" style="margin-top: 10px;">个人信息</p>
            <div  class="item">
                <span>姓名</span>
                 <div class="pull-right vertical pr">
                 <span id="realname">乐思翔</span>
                 </div>
            </div>
            <div class="item">
                <span>学号</span>
                 <div class="pull-right vertical pr">
                 <span id="stuid">14084101</span>
                 </div>
            </div>
             <div  class="item">
                <span>学院</span>
                 <div class="pull-right vertical pr">
                 <span id="dept">网络空间安全学院</span>
                 </div>
            </div>
            
      			<div class="item">
      				<span>楼号</span>
      				 <div class="pull-right vertical pr">
      				 <span id="building">13幢</span>
      				 </div>
      			</div>
      			<div class="item">
      				<span> 寝室</span>
      				 <div class="pull-right vertical pr">
      				 <span id="dorm">501</span>
      				 </div>
      			</div>
            <div  class="item mobile">
                <span> 手机</span>
                 <div class="pull-right vertical">
                 <span id="mobile">15958031806</span>
                 <i class="enter fa fa-angle-right"></i>
                 </div>
            </div>
            <div class="item email">
                <span> 邮箱</span>
                 <div class="pull-right vertical">
                 <span id="email">1245447460@qq.com</span>
                 <i class="enter fa fa-angle-right"></i>
                 </div>
            </div>
           <!--  <div  class="item key">
                <span>密码</span>
                 <div class="pull-right vertical">
                 <span id="key">.....................</span>
                 <i class="enter fa fa-angle-right"></i>
                 </div>
            </div> -->

		</div>
</body>

<script type="text/javascript">
var countdown=60; 
function settime(obj) { 
    if (countdown == 0) { 
        obj.removeAttribute("disabled");    
        obj.innerHTML="获取验证码"; 
        countdown = 60; 
        return;
    } else { 
        obj.setAttribute("disabled", true); 
        obj.innerHTML="重新发送(" + countdown + ")"; 
        countdown--; 
    } 
  setTimeout(function() { 
      settime(obj) }
      ,1000) 
};
  
$(document).ready(function(){
        var zh_cn = {
            lengthBadStart: '必须是 ',
            lengthBadEnd: ' 位',
        }
        $.validate({
            language : zh_cn,
        });
  
    $('.username').on('click',function(){
        var w = dialog({
          title: '修改昵称',
          content:'<form id="reg" action="modify.php" method="post">'+'<input type="text" class="form-control" placeholder="输入新昵称">'+'<input type="submit" class="btn btn-primary btn-sub" value="提交">'+'</form>',  
          height: 50,
          width: 280, 
            cancelValue: '取消',
            cancel: function () {}
        });
        w.showModal();
        $('input[type="submit"]').click(function(){
        $('#username').html($('input[type="text"]').val());
        // alert("昵称已经修改");
        });
    });

    $('.email').on('click',function(){
        var y = dialog({
          title: '修改邮箱',
          content:'<form id="reg" action="modify.php" method="post">'+'<input type="email" class="form-control" placeholder="请输入新邮箱" name="email">'+'<input type="submit" class="btn btn-primary btn-sub" value="提交">'+'</form>',  
          height: 50,
          width: 280, 
            cancelValue: '取消',
            cancel: function () {}
        });
        y.showModal();
        $('input[type="submit"]').click(function(){
        $('#email').html($('input[type="email"]').val());
        alert("验证邮箱已发送到"+$('input[type="email"]').val()+"您需要点击邮件中的链接来完成修改");
        });
    });

    $('.mobile').on('click',function(){
        var y = dialog({
          title: '修改手机',
          content:'<form id="reg" action="modify.php" method="post">'+'<input type="tel"  class="form-control" name="mobile" placeholder="请输入新绑定手机号" data-validation="number_string" data-validation-length="11">'+'<input type="text" class="form-control modify" id ="confirm" name="confirm" placeholder="请输入验证码" style="float:left">'+
          '<button class="btn btn-default" onclick="settime(this)">'+"获取验证码"+'</button>'+'<input type="submit" class="btn btn-primary btn-phone" value="提交">'+'</form>',  
          height: 100,
          width: 280, 
            cancelValue: '取消',
            cancel: function () {}
        });
        y.showModal();
        $('.btn-default').click(function(){
            alert("短信验证码已发送到手机"+$('input[type="number"]').val());
        });

        $('.btn-phone').click(function(){
            $('#mobile').html($('input[type="number"]').val());
            // alert("绑定手机已更改");
        });
    });

    $('.key').on('click',function(){
        var y = dialog({
          title: '修改一卡通密码',
          content:'<form id="reg" action="modify.php" method="post">'+'<input type="tel"  class="form-control" name="mobile" placeholder="手机号" data-validation="number_string" data-validation-length="11">'+'<input type="text" class="form-control modify" id ="confirm" name="confirm" placeholder="请输入验证码" style="float:left">'+
          '<button class="btn btn-default" onclick="settime(this)">'+"获取验证码"+'</button>'+'<input type="password" name="pass" class="form-control newkey"  placeholder="输入新密码">'+'<input type="password"  class="form-control newkey"  placeholder="确认新密码" data-validation-confirm="pass" data-validation="confirmation">'+'<input type="submit" class="btn btn-primary btn-key" value="提交">'+'</form>',  
          height: 200,
          width: 280, 
            cancelValue: '取消',
            cancel: function () {}
        });
        y.showModal();
        $('.btn-default').click(function(){
            alert("短信验证码已发送到手机"+$('input[type="tel"]').val());

        });

        $('.btn-phone').click(function(){
            $('#mobile').html($('input[type="number"]').val());
            // alert("密码已更改");
        });
    });

});

</script>

</html>
